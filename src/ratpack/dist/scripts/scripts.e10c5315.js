"use strict";angular.module("trelloCloneApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","restangular","angular-loading-bar","smart-table","dndLists"]).config(["$routeProvider","$locationProvider","$compileProvider","RestangularProvider",function(a,b,c,d){a.when("/",{templateUrl:"views/boards.html",controller:"BoardsCtrl",controllerAs:"boards"}).when("/main",{}).when("/board/:boardId",{templateUrl:"views/board.html",controller:"BoardCtrl",controllerAs:"board"}).otherwise({redirectTo:"/"}),b.html5Mode(!1),b.hashPrefix(""),d.setDefaultHeaders({"Content-Type":"application/json"}),c.debugInfoEnabled(!1),d.setBaseUrl("/api/v1")}]),angular.module("trelloCloneApp").controller("MainCtrl",["$scope","$location",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.login=function(){a.user.username===a.user.password?b.path("/boards"):window.alert("Invalid credentials! Username must match password!")}}]),angular.module("trelloCloneApp").controller("BoardsCtrl",["$scope","Restangular",function(a,b){function c(){a.getBoards()}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var d=b.all("boards");a.getBoards=function(){d.getList().then(function(b){a.boards=b})},a.deleteBoard=function(b){d.customDELETE(b).then(function(){a.getBoards()})},a.createBoard=function(){d.customPOST(a.newBoard).then(function(){a.newBoard=null,a.getBoards()},function(){window.alert("Unable to create board, name must be unique.")})},c()}]),angular.module("trelloCloneApp").controller("BoardCtrl",["$scope","$routeParams","Restangular",function(a,b,c){function d(){a.getBoard(),a.getBoardLists()}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var e=b.boardId,f=c.one("boards",e);a.getBoard=function(){f.customGET().then(function(b){a.board=b})},a.getBoardLists=function(){f.customGET("lists").then(function(b){a.boardLists=b})},a.updateLists=function(){a.modelAsJson=angular.toJson(a.boardLists.lists,!0),f.one("lists").customPUT(a.modelAsJson).then(function(){},function(){window.alert("Unable to create board list.")})},a.deleteCard=function(b){var d=c.one("cards",b);d.customDELETE().then(function(){a.getBoardLists()})},a.deleteBoardList=function(b){var c=f.all("lists",b);c.customDELETE(b).then(function(){a.getBoardLists()})},a.createBoardList=function(){f.post("lists",a.newBoardList).then(function(){a.getBoardLists()},function(){window.alert("Unable to create board list.")})},a.addCard=function(b,d){var e=c.one("lists",b);e.post("cards",angular.toJson(d,!0)).then(function(){a.getBoardLists()},function(){window.alert("Unable to create board list.")})},d()}]),angular.module("trelloCloneApp").controller("ModalDemoCtrl",["$uibModal",function(a){var b=this;b.open=function(c,d){var e=a.open({animation:!1,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"cardContent.html",controller:"CardContentCtrl",controllerAs:"$ctrl",resolve:{card:function(){return c},list:function(){return d}}});e.result.then(function(a){b.card=a},function(){})}}]),angular.module("trelloCloneApp").controller("CardContentCtrl",["$uibModalInstance","card","list",function(a,b,c){var d=this;d.card=b,d.list=c,d.ok=function(){a.close()},d.cancel=function(){a.dismiss("cancel")}}]),angular.module("trelloCloneApp").run(["$templateCache",function(a){a.put("views/board.html",'<div class="row" ng-cloak> <div class="col-md-12" ng-if="boardLists"> <h4><strong>{{board.name}}</strong></h4> <div class="boardList row"> <div ng-repeat="(listId, list) in boardLists.lists" class="col-md-3"> <div class="panel panel-info"> <div class="panel-heading"><i ng-click="deleteBoardList(listId)" class="fa fa-trash" aria-hidden="true" style="color: red;float: right"></i> <h3 class="panel-title">{{list.details.name}}</h3> </div> <div class="panel-body"> <ul dnd-list="list.cards"> <li ng-repeat="card in list.cards" dnd-draggable="card" dnd-moved="list.cards.splice($index, 1);updateLists()" dnd-effect-allowed="move" dnd-selected="boardLists.selected = card"> <div ng-controller="ModalDemoCtrl as $ctrl" class="modal-demo"> <a ng-click="$ctrl.open(card, list.details)"> {{card.name}} </a> <i ng-click="deleteCard(card.cardId)" class="fa fa-trash" style="color: red;float:right" aria-hidden="true"></i> </div> </li> </ul> <div class="panel-footer addCard"> <form ng-submit="addCard(listId, newCard); newCard=null"> <!-- NAME --> <div class="form-group"> <input type="text" name="name" class="form-control" ng-model="newCard.name" required> <span class="help-block"></span> </div> <button type="submit" class="btn btn-success">Add Card</button> </form> </div> </div> </div> </div> </div> <div> <button type="button" class="btn btn-success" data-toggle="modal" data-target=".bs-create-list-modal-sm">Create List </button> </div> </div> </div> <div class="modal fade bs-create-list-modal-sm" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <div class="modal-content" style="padding: 5px"> <!-- FORM --> <form ng-submit="createBoardList()"> <!-- NAME --> <div class="form-group"> <label>Name</label> <input type="text" name="name" class="form-control" placeholder="List name.." - ng-model="newBoardList.name" - required> <span class="help-block"></span> </div> <!-- SUBMIT BUTTON --> <button type="submit" class="btn btn-success btn-block"> Create </button> <!--<br/>--> <!--<textarea style="height:125px; resize: none;" cols="30" rows="10" name="description"--> <!--class="form-control">{{ newBoardList }}</textarea>--> </form> </div> </div> </div> <script type="text/ng-template" id="cardContent.html"><div class="modal-header">\n    <i ng-click="$ctrl.cancel()" class="fa fa-times fa-2x" style="float: right; color: gray" aria-hidden="true"></i>\n    <h4 class="modal-title" id="modal-title">{{$ctrl.card.name}}</h4>\n    in List <strong>{{$ctrl.list.name}}</strong>\n  </div>\n  <div class="modal-body" id="modal-body">\n    <div>\n      An awesome card description.\n      <!--{{$ctrl.card.description}}-->\n    </div>\n  </div>\n  <div class="modal-footer">\n    <!--<button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>-->\n    <!--<button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>-->\n  </div></script>'),a.put("views/boards.html",'<div class="row" ng-cloak> <div class="col-md-12" ng-if="boards.length>=0"> <div class="col-md-12"> <h4><i class="fa fa-user" aria-hidden="true"></i>&nbsp;&nbsp;<strong>Personal Boards</strong></h4> </div> <div class="col-md-12"> <div class="col-md-3" ng-repeat="board in boards"> <div class="panel panel-default"> <div class="panel-heading trelloCloneBoardsHeading"> <!--<strong>{{board.name}}{{board.name}}</strong>--> <a ng-href="#/board/{{board.boardId}}" style="text-decoration: none"><span class="panel-title">{{board.name}} </span></a> <i class="fa fa-trash" ng-click="deleteBoard(board.boardId)" style="color:red; float:right"></i> </div> <a ng-href="#/board/{{board.boardId}}" style="text-decoration: none"> <div class="trelloCloneBoardsBody panel-body"> </div> </a> </div> </div> <div class="col-md-3"> <div class="panel panel-default"> <div class="panel-heading trelloCloneBoardsCreateHeading"> <a data-toggle="modal" data-target=".bs-create-board-modal-sm" style="text-decoration: none"><span class="panel-title">Create a board... </span></a> </div> <a data-toggle="modal" data-target=".bs-create-board-modal-sm" style="text-decoration: none"> <div class="trelloCloneBoardsBody panel-body"> </div> </a> </div> </div> </div> </div> </div> <div class="modal fade bs-create-board-modal-sm" role="dialog"> <div class="modal-dialog modal-sm" role="document"> <div class="modal-content" style="padding: 5px"> <!-- FORM --> <form ng-submit="createBoard()"> <!-- NAME --> <div class="form-group"> <label>Name</label> <input type="text" name="name" class="form-control" placeholder="Board name.." ng-model="newBoard.name" required> <span class="help-block"></span> </div> <!-- SUBMIT BUTTON --> <button type="submit" class="btn btn-success btn-block"> Create </button> </form> </div> </div> </div>'),a.put("views/main.html",'<div class="row"> <div class="col-sm-12" style="text-align: center"> <h2>Welcome to the <span style="color: gray"><i class="fa fa-trello fa-1x" aria-hidden="true"></i> <strong>Trello-clone</strong></span> project!</h2> <br> <br> <br> <br> <div> <div class="col-sm-4"> </div> <div class="col-sm-4"> <div class="panel panel-default" style="text-align: left"> <div class="panel-heading"> <h4>Login</h4> </div> <div class="panel-body"> <div class="box box-info"> <div class="box-body"> <!-- FORM --> <form ng-submit="login()"> <!-- USERNAME --> <div class="form-group"> <label>Username</label> <input type="text" name="username" class="form-control" placeholder="Username" ng-model="user.username" required> <span class="help-block"></span> </div> <!-- PASSWORD --> <div class="form-group"> <label>Password</label> <input type="password" name="password" class="form-control" placeholder="Password" ng-model="user.password" required> <span class="help-block"></span> </div> <!-- SUBMIT BUTTON --> <button type="submit" class="btn btn-success btn-lg btn-block"> Login </button> </form> <!--<br/>--> <!--<textarea style="height:125px; resize: none;" cols="30" rows="10" name="description"--> <!--class="form-control">{{ user }}</textarea>--> </div> </div> </div> </div> </div> <div class="col-sm-4"> </div> </div> </div> </div>')}]);